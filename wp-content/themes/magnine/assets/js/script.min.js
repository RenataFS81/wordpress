"use strict";var magnine=magnine||{};magnine.PreLoader={init:function(){let a=document.querySelector("#wpi-preloader");a&&(a.classList.add("wpi-preloader-exit"),setTimeout(function(){a.style.display="none"},1e3))}},magnine.currentClock={init:function(){0<document.getElementsByClassName("wpi-display-clock").length&&setInterval(function(){let a=new Date,b=a.getHours(),c=a.getMinutes(),d=a.getSeconds(),e=12<=b?"PM":"AM";b%=12,b=b?b:12,c=10>c?"0"+c:c,d=10>d?"0"+d:d;let f="<span class=\"theme-clock-unit clock-unit-hours\">"+b+"</span>:<span class=\"theme-clock-unit clock-unit-minute\">"+c+"</span>:<span class=\"theme-clock-unit clock-unit-seconds\">"+d+"</span> <span class=\"theme-clock-unit clock-unit-format\">"+e+"</span>";document.getElementsByClassName("wpi-display-clock")[0].innerHTML=f},1e3)}},magnine.slider={init:function(){this.bannerSlider(),this.popularSlider(),this.widgetSlider(),this.mustRead(),this.articleGridSlider(),this.articleGoupSlider()},bannerSlider:function(){new Swiper(".site-banner-hero",{slidesPerView:"1",loop:!0,spaceBetween:24,direction:"horizontal",speed:800,autoplay:{delay:5e3},navigation:{nextEl:".banner-slider-next",prevEl:".banner-slider-prev"},breakpoints:{640:{slidesPerView:2},992:{slidesPerView:3},1400:{slidesPerView:4}}})},popularSlider:function(){let a=document.querySelector(".wpi-popular-init");if(a){let b,c=a.getAttribute("data-slider")||{};c&&(b=JSON.parse(c));new Swiper(a,b)}},widgetSlider:function(){let a=document.querySelectorAll(".wpi-swiper-init");a&&a.forEach(function(a){let b=a.parentNode,c=b.querySelector(".widget-slider-next"),d=b.querySelector(".widget-slider-prev"),e=b.querySelector(".wpi-widget-pagination"),f=a.getAttribute("data-slider")||{};if(f)var g=JSON.parse(f);let h={...{slidesPerView:1,loop:!0,lazyloading:!0,navigation:{nextEl:c,prevEl:d},pagination:{el:e,clickable:!0}},...g},i=new Swiper(a,h),j=a.clientWidth;500>j&&(i.params.slidesPerView=1,i.update())})},mustRead:function(){new Swiper(".mustread-swiper",{slidesPerView:1,spaceBetween:30,centeredSlides:!0,pagination:{el:".swiper-pagination",clickable:!0}})},articleGridSlider:function(){new Swiper(".article-grid-slider",{slidesPerView:"1",loop:!0,spaceBetween:24,direction:"horizontal",speed:900,autoplay:{delay:6748},navigation:{nextEl:".article-grid-slider-next",prevEl:".article-grid-slider-prev"},pagination:{el:".swiper-pagination",clickable:!0}})},articleGoupSlider:function(){new Swiper(".article-group-slider",{slidesPerView:"1",loop:!0,spaceBetween:24,speed:900,autoplay:{delay:8778},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0}})}},magnine.setBackgroundImage={init:function(){let a=document.querySelectorAll(".entry-background-image");a&&a.forEach(function(a){let b=a.querySelector("img");if(b){let c=b.getAttribute("src");c&&(a.style.backgroundImage="url("+c+")",b.style.display="none")}});let b=document.querySelectorAll(".data-bg");b.forEach(function(a){let b=a.getAttribute("data-background");b&&(a.style.backgroundImage="url("+b+")")})}},magnine.titleMarquee={init:function(){let a=document.querySelectorAll(".is-marquee");if(0<a.length){function b(a,b){const c=a.innerHTML.trim();let d="";for(let e=0;e<b;e++)d+=c;a.innerHTML=d}a.forEach(a=>{b(a,4)})}}},magnine.displayClock={init:function(){0<document.getElementsByClassName("wpi-current-time").length&&setInterval(function(){let a=new Date,b=a.getHours(),c=a.getMinutes(),d=a.getSeconds(),e=12<=b?"PM":"AM";b%=12,b=b?b:12,c=10>c?"0"+c:c,d=10>d?"0"+d:d;let f="<span class=\"wpi-clock-unit clock-unit-hours\">"+b+"</span>:<span class=\"wpi-clock-unit clock-unit-minute\">"+c+"</span>:<span class=\"wpi-clock-unit clock-unit-seconds\">"+d+"</span> <span class=\"wpi-clock-unit clock-unit-format\">"+e+"</span>";document.getElementsByClassName("wpi-current-time")[0].innerHTML=f},1e3)}},magnine.ProgressBar={init:function(){const a=document.getElementById("progressBar");if(a){const b=document.body.scrollHeight-window.innerHeight,c=window.scrollY;a.style.width=100*(c/b)+"%",window.addEventListener("scroll",function(){const c=window.scrollY;a.style.width=100*(c/b)+"%"})}}},magnine.offcanvasDrawer={init:function(){function a(a){const b=a===void 0?!d.classList.contains("show"):a;b?(d.classList.add("show"),f.classList.add("show"),document.body.classList.add("offcanvas-drawer-active"),d.setAttribute("aria-hidden","false"),h=d.querySelectorAll(g)[0],i=d.querySelectorAll(g),j=i[i.length-1],h.focus()):(d.classList.remove("show"),f.classList.remove("show"),document.body.classList.remove("offcanvas-drawer-active"),d.setAttribute("aria-hidden","true"),c&&c.focus())}function b(a){if(d.classList.contains("show")){const b="Tab"===a.key;b&&(a.shiftKey?document.activeElement===h&&(a.preventDefault(),j.focus()):document.activeElement===j&&(a.preventDefault(),h.focus()))}}const c=document.querySelector(".site-drawer-menu-icon"),d=document.querySelector(".site-drawer-offcanvas"),e=document.querySelector(".site-drawer-close-btn"),f=document.querySelector(".site-drawer-overlay"),g=".site-drawer-close-btn, .site-drawer-offcanvas a";let h,i,j;c&&(c.addEventListener("click",()=>a(!0)),c.addEventListener("keydown",b=>{("Enter"===b.key||" "===b.key)&&(b.preventDefault(),a(!0))})),e.addEventListener("click",()=>a(!1)),e.addEventListener("keydown",b=>{("Enter"===b.key||" "===b.key)&&(b.preventDefault(),a(!1))}),f.addEventListener("click",()=>a(!1)),document.addEventListener("keydown",c=>{"Escape"===c.key&&a(!1),b(c)})}},magnine.stickyHeader={init:function(){let a=document.querySelector(".site-header-responsive"),b=document.querySelector(".site-header");a&&a.classList.contains("has-sticky-navigation")&&b&&this.stickMenuOnScroll(a,b)},stickMenuOnScroll:function(a,b){window.addEventListener("scroll",function(){let c=b.offsetHeight,d=window.pageYOffset;d<c||0===d?a.classList.remove("sticky-header-active"):a.classList.add("sticky-header-active")})}},magnine.scrollToTop={init:function(){(this.scrollToTopBtn=document.getElementById("scrollToTopBtn"),!!this.scrollToTopBtn)&&(this.progressCircle=document.getElementById("progressCircle"),!!this.progressCircle)&&(this.progressCircle=this.progressCircle.querySelector("circle"),this.progressCircle&&(this.radius=this.progressCircle.r.baseVal.value,this.circumference=2*Math.PI*this.radius,this.progressCircle.style.strokeDasharray=`${this.circumference} ${this.circumference}`,this.progressCircle.style.strokeDashoffset=this.circumference,window.addEventListener("scroll",this.handleScroll.bind(this)),this.scrollToTopBtn.addEventListener("click",this.scrollToTop.bind(this))))},handleScroll:function(){this.scrollToTopBtn&&this.progressCircle&&(this.scrollToTopBtn.style.display=100<document.body.scrollTop||100<document.documentElement.scrollTop?"flex":"none",requestAnimationFrame(this.updateProgressIndicator.bind(this)))},scrollToTop:function(){window.scrollTo({top:0,behavior:"smooth"})},updateProgressIndicator:function(){if(!this.progressCircle)return;const a=document.documentElement.scrollTop||document.body.scrollTop,b=document.documentElement.scrollHeight-document.documentElement.clientHeight,c=this.circumference*(1-a/b);this.progressCircle.style.strokeDashoffset=c}},magnine.tabbedWidget={init:function(){const a=document.querySelectorAll(".wpi-tabbed-widget");a.forEach(a=>{const b=a.querySelectorAll(".tabbed-widget-header .tabbed-header-item"),c=a.querySelectorAll(".tabbed-widget-content .tabbed-content-item");b.forEach(d=>{d.addEventListener("click",function(){const d=this.getAttribute("tab-data");b.forEach(a=>a.classList.remove("active")),c.forEach(a=>a.classList.remove("active")),this.classList.add("active"),a.querySelector(`.content-${d}`).classList.add("active")})})})}};function magnineDomReady(a){return"function"==typeof a?"interactive"===document.readyState||"complete"===document.readyState?a():void document.addEventListener("DOMContentLoaded",a,!1):void 0}magnineDomReady(function(){magnine.currentClock.init(),magnine.slider.init(),magnine.setBackgroundImage.init(),magnine.titleMarquee.init(),magnine.displayClock.init(),magnine.offcanvasDrawer.init(),magnine.stickyHeader.init(),magnine.scrollToTop.init(),magnine.tabbedWidget.init()}),window.addEventListener("load",function(){magnine.PreLoader.init()}),window.addEventListener("scroll",function(){magnine.ProgressBar.init()}),function(){const a="wpi-ticker-init",b=document.querySelectorAll(`.${"wpi-ticker-init"}`);if(0===b.length)return;const c=function(){b.forEach(b=>{const c=b.getAttribute("data-news-ticker-speed"),d=isNaN(parseInt(c))?8e3:parseInt(c),e=new Swiper(b,{wrapperClass:`${a}-wrapper`,slideClass:`${a}-item`,scrollbar:!1,direction:"horizontal",slidesPerView:"auto",speed:d,initialSlide:0,loop:!0,parallax:!1,spaceBetween:0,allowTouchMove:!1,waitForTransition:!1,watchSlidesProgress:!1,autoplay:{delay:0,disableOnInteraction:!1}}),f=new IntersectionObserver(a=>{a.forEach(a=>{a.isIntersecting?e.autoplay.start():e.autoplay.stop()})},{threshold:0});f.observe(b)})};document.addEventListener("DOMContentLoaded",()=>{c()})}(),document.addEventListener("DOMContentLoaded",function(){const a=document.querySelector(".wpi-frontline-beginning"),b=document.querySelector(".wpi-fixed-aside");if(a&&b){const c=a.getBoundingClientRect().top+window.scrollY;b.style.top=`${c}px`;const d=()=>{const c=a.getBoundingClientRect().top+window.scrollY,d=window.scrollY;if(b.style.top=`${c}px`,d>c){b.style.transform=`translateY(${-(c-100)}px)`}else b.style.transform=`translateY(0px)`};window.addEventListener("scroll",d),window.addEventListener("resize",d)}});